{% comment %} {% extends 'base.html' %}
{% block title %}Enrolled Students{% endblock %}
{% block content %}
<div class="container mt-5">
    <h2>Students Enrolled in {{ course.name }}</h2>
    
    <!-- Display a message if no students are enrolled -->
    {% if not enrolled_students %}
    <p class="text-muted">No students are enrolled in this course yet.</p>
    {% else %}
    <ul class="list-group">
        {% for enrollment in enrolled_students %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <!-- Student Information -->
            <div>
                <span class="fw-bold">{{ enrollment.student.username }}</span> 
                <span class="text-muted">({{ enrollment.student.email }})</span>
                
                <!-- Show "Blocked" badge if the student is blocked -->
                {% if enrollment.is_blocked %}
                <span class="badge bg-danger ms-2">Blocked</span>
                {% endif %}
            </div>

            <!-- Block/Unblock Button -->
            <a href="{% url 'toggle_block' course_id=course.id student_id=enrollment.student.id %}" 
               class="btn btn-sm {% if enrollment.is_blocked %}btn-success{% else %}btn-warning{% endif %}">
                {% if enrollment.is_blocked %}
                    Unblock
                {% else %}
                    Block
                {% endif %}
            </a>
        </li>
        {% endfor %}
    </ul>
    {% endif %}

    <!-- Back to Courses Button -->
    <a href="{% url 'teacher_courses' %}" class="btn btn-secondary mt-3">Back to Courses</a>
</div>
{% endblock %}





{% comment %} {% extends 'base.html' %}
{% block title %}Enrolled Students{% endblock %}
{% block content %}
<div class="container mt-5">
    <h2>Students Enrolled in {{ course.name }}</h2>
    <ul class="list-group">
        {% for enrollment in enrolled_students %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ enrollment.student.username }} ({{ enrollment.student.email }})
            
            <!-- Block/Unblock button -->
            <a href="{% url 'toggle_block' course_id=course.id student_id=enrollment.student.id %}" 
               class="btn btn-sm {% if enrollment.is_blocked %}btn-danger{% else %}btn-warning{% endif %}">
                {% if enrollment.is_blocked %}
                    Unblock
                {% else %}
                    Block
                {% endif %}
            </a>
        </li>
        {% empty %}
        <p>No students are enrolled in this course yet.</p>
        {% endfor %}
    </ul>
    <a href="{% url 'teacher_courses' %}" class="btn btn-secondary mt-3">Back to Courses</a>
</div>
{% endblock %}

 {% endcomment %} 
